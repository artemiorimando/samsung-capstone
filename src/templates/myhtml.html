<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Samsung Explainability</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css">
        <link href="{{ url_for('static', path='/css/mycss.css') }}" rel="stylesheet" type="text/css">
    </head>
<body>
    <div>
        <h2>Samsung Explainability</h2>
    </div> 
    <div class="tab">
        <button class="tablinks" onclick="openCity(event, 'highlights_tab')">Project Highlights</button>
        <button class="tablinks" onclick="openCity(event, 'team_tab')">Team Profile</button>
        <button class="tablinks" onclick="openCity(event, 'inference_tab')" id="defaultOpen">Inference</button>
    </div>                           
    <div id="highlights_tab" class="tabcontent">
        <table class="table">
            <tbody>
                <tr>
                    <td align="center" width="33%">
                        Description of the project
                    </td>
                    <td align="center" width="33%">
                        <img src="{{ url_for('static', path='/images/ml_pipeline.png') }}" />
                    </td>
                </tr>   
            </tbody>
        </table>
    </div>
    <div id="team_tab" class="tabcontent">
        <table class="table">
            <tbody>
            <tr>
                <td align="center" width="33%">                  
                </td>
                <td align="center" width="33%"></td>                 
                </td>
                <td align="center" width="33%">            
                </td>
            </tr>   
            </tbody>
        </table>
    </div>
    <div id="inference_tab" class="tabcontent">
        <form action="/images" class="form-inline" method="post" enctype="multipart/form-data">
            <table class="table table-condensed">
            <tbody>
                <tr>
                    <td align="center" width="50%">
                        <label for="files" class="btn btn-sm btn-link">Click here to select input image</label><label for="sub_but" class="btn btn-xs btn-primary">Upload</label><input id="sub_but" type="submit" style="visibility:hidden;">
                        <div class="frame">     
                            <img src="data:image/png;base64,{{input_img | safe}}" id="output" class="cover" onerror="this.onerror=null; this.remove();"/>
                        </div> 
                        <div>
                            <input type="file" accept="image/*" name="selectFile" id="files" style="visibility:hidden;"/>
                        </div>       
                    </td>
                    <td align="center" width="50%">           
                        <div class="frame">
                            <label for="hm_image">Heatmap Image</label>
                            <img src="data:image/png;base64,{{heatmap_img | safe}}" id="hm_image" class="cover" onerror="this.onerror=null; this.remove();"/>
                        </div>            
                    </td>    
                </tr>
            </tbody>
            </table>
        
            <input type="text" name="regcoords" id="regcoords" />
            <div class="scrollable">
                <table class="table table-condensed" >
                <tbody>
                    <tr class="info">
                        <th>Classification</th>
                        <th>Annotation</th>
                        <th>XCoords</th>
                        <th>YCoords</th>
                    </tr>
                    <tr>
                        <td>1Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>2Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>3Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>8Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>9Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>10Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>
                    <tr>
                        <td>14Classification</td>
                        <td>Annotation</td>
                        <td>XCoords</td>
                        <td>YCoords</td>
                    </tr>

                    {% for p in predDict %}
                        {% set item_1 = predDict[loop.index-1] %}
                        {% set item_2 = explainDict[loop.index-1] %}
                        {% set item_3 = xcoords[loop.index-1] %}
                        {% set item_4 = ycoords[loop.index-1] %}
                        <tr>
                            <td>{{ item_1 }}</td>
                            <td>{{ item_2 }}</td>
                            <td>{{ item_3 }}</td>
                            <td>{{ item_4 }}</td>
                        </tr>
                        {% endfor %}
                </tbody>
            </table>
            </div>
            <br></br>
            <table class="table table-condensed">
                <tbody>
                    <tr class="info">
                        <th>Total Predictions</th>
                        <th>Mitotic</th>
                        <th>Non-Mitotic</th>
                        <th>Mitotic %</th>
                    </tr>
                    {% for p in result_dict %}
                        {% set item_11 = result_dict[0] %}
                        {% set item_12 = result_dict[1] %}
                        {% set item_13 = result_dict[2] %}
                        {% set item_14 = result_dict[3] %}
                    <tr>
                        <td>{{ item_11 }}</td>
                        <td>{{ item_12 }}</td>
                        <td>{{ item_13 }}</td>
                        <td>{{ item_14 }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        
        </form>
    </div>
<script src="{{ url_for('static', path='/js/myjs.js') }}" type="text/javascript"></script>
</body>
</html>